<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-system/Software-Construction/二维凸包问题详解">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">二维凸包问题详解 | Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deconx.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://deconx.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://deconx.cn/system/Software-Construction/二维凸包问题详解"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="二维凸包问题详解 | Notes"><meta data-rh="true" name="description" content="这是我在做软件构造实验时遇到的问题，同时，它也是 LeetCode 4 月 23 日的每日一题。我之前没有系统刷过算法，既然遇到了就索性学习并总结一下。题目链接："><meta data-rh="true" property="og:description" content="这是我在做软件构造实验时遇到的问题，同时，它也是 LeetCode 4 月 23 日的每日一题。我之前没有系统刷过算法，既然遇到了就索性学习并总结一下。题目链接："><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://deconx.cn/system/Software-Construction/二维凸包问题详解"><link data-rh="true" rel="alternate" href="https://deconx.cn/system/Software-Construction/二维凸包问题详解" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://deconx.cn/system/Software-Construction/二维凸包问题详解" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Notes RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Notes Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a22b4ae4.css">
<link rel="preload" href="/assets/js/runtime~main.e82e885e.js" as="script">
<link rel="preload" href="/assets/js/main.2610bda6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.ico" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.ico" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Notes</b></a><a class="navbar__item navbar__link" href="/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/system">计算机基础</a><a class="navbar__item navbar__link" href="/code-daily">算法刷题</a><a class="navbar__item navbar__link" href="/ai">人工智能</a><a class="navbar__item navbar__link" href="/project">动手造轮子</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kcxain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">首页</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/system">计算机基础</a><button aria-label="打开/收起侧边栏菜单「计算机基础」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/system/CSAPP">CSAPP 实验解析</a><button aria-label="打开/收起侧边栏菜单「CSAPP 实验解析」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/system/Computer-Network">计算机网络</a><button aria-label="打开/收起侧边栏菜单「计算机网络」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/system/MIT6S081">MIT-6.s081 实验解析</a><button aria-label="打开/收起侧边栏菜单「MIT-6.s081 实验解析」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/system/Software-Construction">软件构造</a><button aria-label="打开/收起侧边栏菜单「软件构造」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note1-不可变设计原则">笔记1-不可变(immutable)设计原则</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note2-设计规约">笔记2-设计规约(specification)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note3-抽象数据类型">笔记3-抽象数据类型(ADT)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note4-面向对象编程">笔记4-面向对象编程(OOP)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note5-Equality-in-ADT-and-OOP">笔记5-Equality in ADT and OOP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note6-面向复用的软件构造技术">笔记6-面向复用(reuse)的软件构造技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note7-面向可维护性的软件构造技术">笔记7-面向可维护性的软件构造技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/system/Software-Construction/Note8-详解七大设计模式">笔记8-详解七大设计模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/system/Software-Construction/二维凸包问题详解">二维凸包问题详解</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/code-daily">算法刷题</a><button aria-label="打开/收起侧边栏菜单「算法刷题」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ai">人工智能</a><button aria-label="打开/收起侧边栏菜单「人工智能」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project">动手造轮子</a><button aria-label="打开/收起侧边栏菜单「动手造轮子」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/system"><span itemprop="name">计算机基础</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/system/Software-Construction"><span itemprop="name">软件构造</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">二维凸包问题详解</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>二维凸包问题详解</h1><p>这是我在做软件构造实验时遇到的问题，同时，它也是 LeetCode 4 月 23 日的每日一题。我之前没有系统刷过算法，既然遇到了就索性学习并总结一下。题目链接：</p><p><a href="http://web.mit.edu/6.031/www/fa18/psets/ps0/" target="_blank" rel="noopener noreferrer">MIT 6.031-Problem Set 0</a></p><p><a href="https://leetcode-cn.com/problems/erect-the-fence/" target="_blank" rel="noopener noreferrer">LeetCode-581. 安装栅栏</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="什么是凸包">什么是凸包？<a href="#什么是凸包" class="hash-link" aria-label="什么是凸包？的直接链接" title="什么是凸包？的直接链接">​</a></h2><p>简单来说，可以想象在平面中有一些点，这些点的集合为 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span></span></span></span></span>，我们拿一个橡皮圈撑到最大，尝试套住所有的点，待橡皮圈绷紧后，它会成为一个多边形，这个多边形所有顶点组成的集合便为集合 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span></span></span></span></span> 的<strong>凸包</strong>。如图：</p><p><img loading="lazy" src="https://www.img.xz95.top/img/wikipedia/commons/b/bc/ConvexHull.png" class="img_ev3q"></p><p>凸包计算有很多办法，我在本文讲解三个做法</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gift-wrapping-算法">Gift wrapping 算法<a href="#gift-wrapping-算法" class="hash-link" aria-label="Gift wrapping 算法的直接链接" title="Gift wrapping 算法的直接链接">​</a></h2><p>这是我在做 MIT 6.031-Problem Set 0 时，实验指导建议的做法。由于这门课教授的是软件构造，不太注重时间复杂度，所以这个算法时间性能并不好，使用者寥寥，但是它很直观且很有趣，从它开始入门凸包问题不失为一个好的选择</p><p>所谓 Gift wrapping，顾名思义，就是模拟包装礼品盒的过程。要拿包装带给一个礼品盒包装，首先肯定是从凸包中的一个点开始，沿着某一条边后到达下一个顶点，然后从包装带原来的方向开始，逐步向内旋转，直到接触到下一个点，那么下一条边就包装完成了。文字描述有些困难，可以看图：</p><p><img loading="lazy" src="/assets/images/v2-f3367adb13bdb42fa052d579b4df4ca7_720w-1926a4ad2141f84c33b6d78afe3b9d35.webp" width="532" height="533" class="img_ev3q"></p><p>先包装 AB 边，随后包装带从 AB 方向向内旋转，直到遇到 C 点，则凸包的下一个点就是 C</p><p>算法：</p><ol><li>找到一个一定在凸包中的初始点，比如最左下的点</li><li>计算剩下的所有点与初始点正向下方向之间的角度，取最小的角度的点加入闭包</li><li>对于最新加入凸包的点，取前一个点指向该点的方向作为初始方向，遍历剩下的点，取剩下的点和该点的连线与初始方向夹角最小的点加入凸包</li><li>重复 3，直到找到的下一个点是初始点</li></ol><p>最终结果如图：</p><p><img loading="lazy" src="/assets/images/v2-6a6f7e18646d0dfcd443b470f8c6b789_720w-36d812b38be4a49244c7d239adf72a0d.webp" width="588" height="471" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="计算角度">计算角度<a href="#计算角度" class="hash-link" aria-label="计算角度的直接链接" title="计算角度的直接链接">​</a></h3><p>为了达到目的，先实现一个计算角度的函数，根据初始角度，当前点的坐标，以及目标点的坐标，计算初始角度与当前点和目标点连线的夹角</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateBearingToPoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> currentBearing</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> currentX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> currentY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> targetX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> targetY</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> angle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token operator" style="color:#393A34">*</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">atan2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">targetY </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> currentY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> targetX </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> currentX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PI</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> bearing</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bearing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">90</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> angle </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> currentBearing</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bearing </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bearing </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">360</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> bearing</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这里的角度指的都是从该点正上方逆时针旋转的角度</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="考虑距离">考虑距离<a href="#考虑距离" class="hash-link" aria-label="考虑距离的直接链接" title="考虑距离的直接链接">​</a></h3><p><img loading="lazy" src="data:image/webp;base64,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" width="662" height="403" class="img_ev3q"></p><p>我们先明确一点：对于上图，A、B、C、D 四点共线，由凸包的定义， A、D 应该在凸包中，B，C 不应该在凸包中</p><p>从 A 点开始计算角度，角度最小的有 B，C，D 点，那么显然接下来要选择距 A 点最远的 D 点。所有我们的算法在扩充凸包时，应该计算一下距离，如果有多个点需要旋转的角度均最小且相同，则应选择距离最远的点</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="完整代码">完整代码<a href="#完整代码" class="hash-link" aria-label="完整代码的直接链接" title="完整代码的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">convexHull</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">points</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> convexHull </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HashSet</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Point</span><span class="token plain"> first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">iterator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 找到最左下边的点，否则如果与起始点同横坐标的点大于等于三，则距离更新的时候，最后永远无法回到起始点 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Point</span><span class="token plain"> iter </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">iter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">iter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> iter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> iter</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Point</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//当前的最新点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* pre这样设置的目的是使初始角度为0 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Point</span><span class="token plain"> pre </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//保存前一个点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Point</span><span class="token plain"> endpoint </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">//待加入集合的点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> minAngle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">360</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> maxDis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        convexHull</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//System.out.println(p.x() + &quot; &quot; + p.y());</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> curBearing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">atan2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> pre</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> pre</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PI</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//System.out.println((p.y() - pre.y())+ &quot; &quot; + (p.x() - pre.x()) + &quot;:&quot; + curBearing);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* 计算当前角度 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> pre</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> curBearing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">90</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> curBearing</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pre</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> curBearing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">450</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> curBearing</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> pre</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> curBearing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">90</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> curBearing</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//System.out.println(curBearing);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Point</span><span class="token plain"> next </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> curAngle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateBearingToPoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">curBearing</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> next</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> next</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> curDis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">next</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">next</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 要确保这个点与之前的点不同，否则可能会死循环</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">               但也要注意可以与第一个点相同，否则循环无法退出 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">curAngle </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> minAngle </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> next </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                endpoint </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                minAngle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> curAngle</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                maxDis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> curDis</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">/* 如果有角度相同即共线的，则取最远的点 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">curAngle </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> minAngle </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> curDis </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> maxDis </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> next </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                maxDis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> curDis</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                endpoint </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> next</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//System.out.println(minAngle);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pre </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> endpoint</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> convexHull</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="复杂度分析">复杂度分析<a href="#复杂度分析" class="hash-link" aria-label="复杂度分析的直接链接" title="复杂度分析的直接链接">​</a></h3><p>对于凸包中的每一个点，都要遍历其它所有点，所以该算法的时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>h</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nh)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">nh</span><span class="mclose">)</span></span></span></span></span>，其中<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">h</span></span></span></span></span>为凸包中的点数，最坏情况下，所有的点都在凸包中，所以时间复杂度也可以写为 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>由于我这个是按照实验要求写的代码，其中用到了<code>atan</code>，所以时间性能可能会更差。事实上我们不需要精确计算角度，只需要比较角度的大小关系就可以了，可以用点乘来代替角度的计算</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="graham-扫描法">Graham 扫描法<a href="#graham-扫描法" class="hash-link" aria-label="Graham 扫描法的直接链接" title="Graham 扫描法的直接链接">​</a></h2><p>先给出算法：</p><ol><li>找到一个一定在凸包中的初始点，比如最左下的点</li><li>按逆时针逐个加入可能在凸包中的点。做法就是先把剩下的点集按照相对初始点的极角排序，如果极角相同，则按距离排序，近的在前（原因后面解释）</li><li>从初始点开始，按顺序不断加入凸包，对于加入的每一个点，判断加入该点后，会不会使凸包呈现一种前一个点往内凹陷的形状，如果是这样的，则从凸包中删除前一个点，继续往前判断（怎么判断形状呢？利用叉乘）</li></ol><p>下面我来详细解释一下算法实现</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="利用叉乘">利用叉乘<a href="#利用叉乘" class="hash-link" aria-label="利用叉乘的直接链接" title="利用叉乘的直接链接">​</a></h3><p>对于平面中两个向量 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>a</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{a}=(x_a, y_a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>b</mi><mo>⃗</mo></mover><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>b</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>b</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{b}=(x_b,y_b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9774em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，它们的叉乘也是一个向量，定义为</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>c</mi><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mo>×</mo><mover accent="true"><mi>b</mi><mo>⃗</mo></mover><mo>=</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>x</mi><mi>a</mi></msub><msub><mi>y</mi><mi>b</mi></msub><mo>−</mo><msub><mi>x</mi><mi>b</mi></msub><msub><mi>y</mi><mi>a</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{c} = \vec{a}\times\vec{b} = (0,0,x_ay_b-x_by_a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">c</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1799em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7973em;vertical-align:-0.0833em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9774em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>c</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{c}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">c</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1799em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> 垂直于这个平面，符合右手定则。即</p><ul><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>a</mi></msub><msub><mi>y</mi><mi>b</mi></msub><mo>−</mo><msub><mi>x</mi><mi>b</mi></msub><msub><mi>y</mi><mi>a</mi></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x_ay_b-x_by_a&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span></span>，则 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>b</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9774em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> 相对于 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> 为顺时针</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>a</mi></msub><msub><mi>y</mi><mi>b</mi></msub><mo>−</mo><msub><mi>x</mi><mi>b</mi></msub><msub><mi>y</mi><mi>a</mi></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x_ay_b-x_by_a&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span></span>，则 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>b</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9774em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> 相对于 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> 为逆时针</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>a</mi></msub><msub><mi>y</mi><mi>b</mi></msub><mo>−</mo><msub><mi>x</mi><mi>b</mi></msub><msub><mi>y</mi><mi>a</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x_ay_b-x_by_a=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span></span>，则 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>b</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9774em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> 和 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2355em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> 共线</li></ul><p>首先，我们可以利用这个办法来实现算法的第 2 步，排序。所谓按极角顺序排序，就是将剩下点集与初始点组成的向量按逆时针排列，对其中两个向量做叉乘，如果结果为负，说明前一个向量对应的点的极角更小，于是把它排在前面，很容易完成。如果两向量共线，则按距离由小到大排，代码如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 按叉乘逆时针 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> diff </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">diff </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 按距离由近到远 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">diff</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>怎么利用叉乘的性质来判断删除哪些点呢？举如下例子：</p><p><img loading="lazy" src="data:image/webp;base64,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" width="495" height="417" class="img_ev3q"></p><p>初始点显然是A点，剩下的点按照上述算法描述的排序顺序标号，从 B 点开始不断加入凸包，如图：</p><p><img loading="lazy" src="/assets/images/v2-648e9fabff96bbaf3ebf19f38ef8a658_720w-bdbb5fb6b227e9d4da4bbd14d5552523.webp" width="484" height="408" class="img_ev3q"></p><p> 当加入 F 点后，我们要找前两个加入的点来做叉乘，如果 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>D</mi><mi>F</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{DF}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="mord mathnormal" style="margin-right:0.13889em">F</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 相对于 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>D</mi><mi>E</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{DE}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 是顺时针的，那么 E 点就会往内凹陷，应该从凸包中删除 E 点</p><p><img loading="lazy" src="/assets/images/v2-96e449007f98d3aed3b738c2191184a0_720w-8179cb405973ff321ce04d16540901e1.webp" width="489" height="415" class="img_ev3q"></p><p>删除这一个点就够了吗？从图中看出，并不够。我们还要找凸包中 E 点之前的两个点 C 点和 D 点， <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>C</mi><mi>F</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{CF}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">CF</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 相对于 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>C</mi><mi>D</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{CD}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 是顺时针的，于是再把 D 点删除，接下来找凸包中 D 点之前的两个点 B 点和 C 点，发现<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>B</mi><mi>F</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{BF}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">BF</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 相对于 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>B</mi><mi>C</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{BC}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">BC</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 是逆时针的，于是 C 点满足凸包性质，则 C 点之前的点也一定满足凸包性质，就不需要在做叉乘判断了，继续往后加点，重复这个判断即可。</p><p><img loading="lazy" src="/assets/images/v2-b6cccf6395774f4f59ed74428fb7c237_720w-c062151987536ace21372b570bddb1e3.webp" width="470" height="402" class="img_ev3q"></p><p>对于加入的每个点，都要与凸包中最近加入的两个点做叉乘运算，很显然，这里可以用栈结构来保存凸包中的点，代码如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Deque</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> stack </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ArrayDeque</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 如果当前元素与栈顶的两个元素构成的向量顺时针旋转或共线，则弹出栈顶元素 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">peek</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="细节距离判断">细节：距离判断<a href="#细节距离判断" class="hash-link" aria-label="细节：距离判断的直接链接" title="细节：距离判断的直接链接">​</a></h3><p>为什么对于共线的点，要按它们与初始点的距离从小到大排序呢？</p><p>考虑如下例子：</p><p><img loading="lazy" src="data:image/webp;base64,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" width="623" height="365" class="img_ev3q"></p><p>A、B、C、D 四点共线，算法会先加入 A、B 两点，当加入 C 时，<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>B</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{AB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 与 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>C</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{AC}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 共线，则会踢掉 B 点，以此类推，最后只会保留 D 点。</p><p><img loading="lazy" src="/assets/images/v2-aab2d4ad7a33beb06d6290dfaa44c2c9_720w-b3289b0ff66b78ffd53a75888a8a2e0c.webp" width="589" height="403" class="img_ev3q"></p><p>反之，如果不按距离由小到大排序，假如先加入 D 点，则下一步加入 C 点时，算法判断<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>C</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{AC}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 与 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>D</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{AD}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 共线，则会踢掉 D 点，那么就会得到错误的答案。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="完整代码-1">完整代码<a href="#完整代码-1" class="hash-link" aria-label="完整代码的直接链接" title="完整代码的直接链接">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">convexHull</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">points</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 找到最左下的点 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">swap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 按距离和极角排序 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> diff </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">diff </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">diff</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Deque</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> stack </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ArrayDeque</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 将前两个点压入栈中 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* 如果当前元素与栈顶的两个元素构成的向量顺时针旋转或共线，则弹出栈顶元素 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">peek</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HashSet</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ans</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ans</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 叉乘 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Point</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 求距离 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Point</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">+</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">swap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> j</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Point</span><span class="token plain"> temp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="复杂度分析-1">复杂度分析<a href="#复杂度分析-1" class="hash-link" aria-label="复杂度分析的直接链接" title="复杂度分析的直接链接">​</a></h3><p>时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><p>最开始排序的部分：时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><p>核心算法的部分：对于点集中的每一个点，都会入栈一次，在后面加点判断时，最多可能会出栈一次，时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><p>故总的时间复杂度为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="andrew-算法">Andrew 算法<a href="#andrew-算法" class="hash-link" aria-label="Andrew 算法的直接链接" title="Andrew 算法的直接链接">​</a></h2><p>Andrew 算法是 Graham 算法的改进，改进的地方在排序部分。 Graham 算法据极角和距离来进行排序，可能引起较高的时间复杂度，而 Andrew 算法是先对 x 坐标由小到大进行排序，然后对于 x 坐标相等的点再按 y 坐标由小到大排序，对排序时的复杂度有所优化</p><p>那么按照什么顺序来更新点呢？Graham 算法的巧妙之处在于通过极角和距离，能让所有点按照逆时针顺序排好序，而 Andrew 算法中按坐标的排序做法就显得有些凌乱了</p><p>为了解决这个做法，只好把凸包的产生分为两部分。排序以后，最左下的点与最右上的点一定在凸包上，并且它们能把凸包分为上凸壳和下凸壳</p><p><img loading="lazy" src="data:image/webp;base64,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" width="489" height="440" class="img_ev3q"></p><p>那么对于下凸壳的部分，凸包的点按逆时针是以横坐标从小到大排列的；到达 H 点后，对于上凸壳的部分，凸包的点按逆时针又以横坐标从大到小排序</p><p><img loading="lazy" src="/assets/images/v2-3526e4c53f1c897c4ac62d7431cf0dc7_720w-2271632f116dcc923433aff4e48320ca.webp" width="528" height="475" class="img_ev3q"></p><p>所以排完序后，我们要遍历更新两次，第一轮从正向遍历，得到下凸包部分；第二轮从逆向遍历，得到上凸包部分，更新的做法与 Graham 算法逻辑完全相同</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="实现细节">实现细节<a href="#实现细节" class="hash-link" aria-label="实现细节的直接链接" title="实现细节的直接链接">​</a></h3><p>讲到这，可能还会有点疑惑，为什么一定要遍历两次呢？</p><p>举例：在第一轮从正向遍历的时候，先把 A、B 两点两点入栈，接下来遍历到 D 点，<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>B</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{AB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 与 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>D</mi></mrow><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{AD}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span></span></span></span></span> 为顺时针，所以会踢掉 B 点，如图</p><p><img loading="lazy" src="/assets/images/v2-181bdab3474c4a387912426fa6a3f350_720w-6e3f574fe6fc38a6f9b92223db34f113.webp" width="572" height="474" class="img_ev3q"></p><p>也就是说，按坐标这种特殊的排序方式，对于正向遍历一定只能得到下凸壳，逆向遍历一定只能得到上凸壳</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="完整代码-2">完整代码<a href="#完整代码-2" class="hash-link" aria-label="完整代码的直接链接" title="完整代码的直接链接">​</a></h3><p>更新部分代码与 Graham 逻辑相同，只有两点特殊：</p><ul><li>要分别正向、逆向遍历两次</li><li>设置一个哈希表，存放已经确定加入下凸壳部分的点，避免在逆向遍历时加入下凸壳的点，增加出栈操作</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">convexHull</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">points</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> points</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">==</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Deque</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> stack </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ArrayDeque</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> visited </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HashSet</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* 如果当前元素与栈顶的两个元素构成的向量顺时针旋转或共线，则弹出栈顶元素 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">peek</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">--</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">contains</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 如果当前元素与栈顶的两个元素构成的向量顺时针旋转或共线，则弹出栈顶元素 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* 不需要判断下凸壳的部分 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> m </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cross</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">peek</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                top </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            visited</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Point</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HashSet</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ans</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ans</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="复杂度分析-2">复杂度分析<a href="#复杂度分析-2" class="hash-link" aria-label="复杂度分析的直接链接" title="复杂度分析的直接链接">​</a></h3><p>由于增加了哈希表，所以每个元素还是最多入栈出栈各一次，总时间复杂度仍为<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><p>因为这个算法优化了排序的性能，耗时往往比 Graham 要短</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考资料">参考资料<a href="#参考资料" class="hash-link" aria-label="参考资料的直接链接" title="参考资料的直接链接">​</a></h2><ul><li><a href="https://en.wikipedia.org/wiki/Gift_wrapping_algorithm" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Gift_wrapping_algorithm</a></li><li><a href="https://en.wikipedia.org/wiki/Convex_hull_algorithms" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Convex_hull_algorithms</a></li><li><a href="https://leetcode-cn.com/problems/erect-the-fence/solution/an-zhuang-zha-lan-by-leetcode-solution-75s3/" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/erect-the-fence/solution/an-zhuang-zha-lan-by-leetcode-solution-75s3/</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kcxain/Kcx_Learning/tree/master/docs/system/Software-Construction/二维凸包问题详解.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/system/Software-Construction/Note8-详解七大设计模式"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">笔记8-详解七大设计模式</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/code-daily"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">算法刷题</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#什么是凸包" class="table-of-contents__link toc-highlight">什么是凸包？</a></li><li><a href="#gift-wrapping-算法" class="table-of-contents__link toc-highlight">Gift wrapping 算法</a><ul><li><a href="#计算角度" class="table-of-contents__link toc-highlight">计算角度</a></li><li><a href="#考虑距离" class="table-of-contents__link toc-highlight">考虑距离</a></li><li><a href="#完整代码" class="table-of-contents__link toc-highlight">完整代码</a></li><li><a href="#复杂度分析" class="table-of-contents__link toc-highlight">复杂度分析</a></li></ul></li><li><a href="#graham-扫描法" class="table-of-contents__link toc-highlight">Graham 扫描法</a><ul><li><a href="#利用叉乘" class="table-of-contents__link toc-highlight">利用叉乘</a></li><li><a href="#细节距离判断" class="table-of-contents__link toc-highlight">细节：距离判断</a></li><li><a href="#完整代码-1" class="table-of-contents__link toc-highlight">完整代码</a></li><li><a href="#复杂度分析-1" class="table-of-contents__link toc-highlight">复杂度分析</a></li></ul></li><li><a href="#andrew-算法" class="table-of-contents__link toc-highlight">Andrew 算法</a><ul><li><a href="#实现细节" class="table-of-contents__link toc-highlight">实现细节</a></li><li><a href="#完整代码-2" class="table-of-contents__link toc-highlight">完整代码</a></li><li><a href="#复杂度分析-2" class="table-of-contents__link toc-highlight">复杂度分析</a></li></ul></li><li><a href="#参考资料" class="table-of-contents__link toc-highlight">参考资料</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">联系我</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kcxain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.zhihu.com/people/deconx" target="_blank" rel="noopener noreferrer" class="footer__link-item">知乎<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/kecxain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 CS-Notes, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e82e885e.js"></script>
<script src="/assets/js/main.2610bda6.js"></script>
</body>
</html>